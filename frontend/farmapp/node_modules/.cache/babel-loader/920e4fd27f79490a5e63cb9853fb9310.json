{"ast":null,"code":"import _classCallCheck from\"H:/KBM_WORK/indoorfarm_work/sfu3300/KDIndoorFarm/frontend/farmapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"H:/KBM_WORK/indoorfarm_work/sfu3300/KDIndoorFarm/frontend/farmapp/node_modules/@babel/runtime/helpers/esm/createClass\";var KDSensorTypeEnum=Object.freeze({SUT_None:0,SUT_Temperature:1,//공기온도\nSUT_Humidity:2,SUT_SoilTemperature:3,SUT_SoilMoisture:4,SUT_SoilEC:5,SUT_CO2:6,SUT_WTemperature:7,///배지온도\nSUT_SoraRadiation:8,SUT_WINDSPEED:9,SUT_WINDVANE:10,SUT_BAROMETER:11,SUT_PRESSURE:12,SUT_RAINGUAGE:13,SUT_RAINDETECTOR:14,SUT_UV:15,SUT_PE300_PH:16,///\nSUT_PE300_EC:17,SUT_PE300_TEMP:18,SUT_CO1:19,//Co  센서\nSUT_O2:20,//산소 센서\nSUT_LIGHT:21,//SMBL 조도 센서\nSUT_COLOR_RED:22,//SMBL 컬러센서 Red   n 0~100000\nSUT_COLOR_GREEN:23,//SMBL 컬러센서 Green  n  0~100000\nSUT_COLOR_BLUE:24,//SMBL 컬러센서 Blue  n 0~100000\nSUT_AMMONIA:25,//암모니아 센서 ppm  0~1000\nSUT_FLOWMETER:26,//유량계  L/min    0.01~1000.00\nSUT_FLOWMETER_TOTAL:27,//적산 유량계  L    0.1~10000.0\nSUT_BATTRY:28,//베터리 레벨  Battery %   0~100 %\nSUT_WEIGHT_KG:29,//무게  Weght kg   0.001 소수점 3자리\nSUT_WATER_MM:30,//수위      mm  1~10000mm\nSUT_DO_MG:31,//용존산소량  ( DO)    0~20 mg/L  소수점 2자리\nSUT_SoilBulkEC:32,// 토양 벌크 EC\nSUT_Counter:33,//  단순계수기\nSUT_H2S:34,//  황화수소\nSUT_PM25:35,//  초미세먼지\nSUT_PM10:36,//  미세먼지\nSUT_C1H4:37,//  매탄\nSUT_C2H6:38,//  에탄\nSUT_C3H6:39,// 프로판\nSUT_SOLARMJ:40,// MJ/m2    누적일사량    메가 줄  소수점 3자리\nSUT_DEWPOINT:41// ℃   이슬점     소스점 1자리\n});var Sensordevice=/*#__PURE__*/function(){function Sensordevice(nodeid,sensorcode,sensorvalue,sensorstatus){var errorcount=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;_classCallCheck(this,Sensordevice);var hwchannel=sensorcode>>8&0xff;var sensortype=sensorcode&0xff;this.nodeID=nodeid;this.Name=\"sensor\";this.ValueUnit=\" \";this.SignificantDigit=3;this.channel=hwchannel;this.value=sensorvalue;//Buffer.from([(repdatas[0] >> 0) & 0xFF, (repdatas[0] >> 8) & 0xFF, (repdatas[1] >> 0) & 0xFF, (repdatas[1] >> 8) & 0xFF]).readFloatLE(0);\nthis.status=sensorstatus;// repdatas[2];\nthis.Sensortype=sensortype;this.SensorCode=sensorcode;this.UniqID=\"S\"+nodeid+\"C\"+sensorcode;// 센서를 구별하는 고유ID  센서노드와 채널 타입정보로 생성한다. S11C123\nthis.errorcount=errorcount;switch(this.Sensortype){case KDSensorTypeEnum.SUT_Temperature:this.ValueUnit=\"℃\";this.Name=\"온도\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_Humidity:this.ValueUnit=\"%\";this.Name=\"습도\";this.SignificantDigit=0;break;case KDSensorTypeEnum.SUT_SoilTemperature:this.ValueUnit=\"℃\";this.Name=\"토양온도\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_SoilMoisture:this.ValueUnit=\"%vol.\";this.Name=\"토양함수율\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_SoilEC:this.ValueUnit=\"dS/m\";this.Name=\"토양EC\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_CO2:this.ValueUnit=\"ppm\";this.Name=\"이산화탄소\";this.SignificantDigit=0;break;case KDSensorTypeEnum.SUT_WTemperature:this.ValueUnit=\"℃\";this.Name=\"배지온도\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_SoraRadiation:this.ValueUnit=\"W/m2\";this.Name=\"일사\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_WINDSPEED:this.ValueUnit=\"°\";this.Name=\"풍향\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_WINDVANE:this.ValueUnit=\"m/s\";this.Name=\"풍속\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_BAROMETER:this.ValueUnit=\"hPa\";this.Name=\"대기압\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_PRESSURE:this.ValueUnit=\"hPa\";this.Name=\"압력\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_RAINGUAGE:this.ValueUnit=\"mm\";this.Name=\"강우량\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_RAINDETECTOR:this.ValueUnit=\" \";this.Name=\"강우감지\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_UV:this.ValueUnit=\"\";this.Name=\"UV\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_PE300_PH:this.ValueUnit=\" \";this.Name=\"pH\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_PE300_EC:this.ValueUnit=\"dS/m\";this.Name=\"EC\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_PE300_TEMP:this.ValueUnit=\"℃\";this.Name=\"PE300온도\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_CO1:this.ValueUnit=\"ppm\";this.Name=\"일산화탄소\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_O2:this.ValueUnit=\"%\";this.Name=\"산소\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_LIGHT:this.ValueUnit=\"Lux\";this.Name=\"조도\";this.SignificantDigit=0;break;case KDSensorTypeEnum.SUT_COLOR_RED:this.ValueUnit=\" \";this.Name=\"RED\";this.SignificantDigit=0;break;case KDSensorTypeEnum.SUT_COLOR_GREEN:this.ValueUnit=\" \";this.Name=\"GREEN\";this.SignificantDigit=0;break;case KDSensorTypeEnum.SUT_COLOR_BLUE:this.ValueUnit=\" \";this.Name=\"BLUE\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_AMMONIA:this.ValueUnit=\"ppm\";this.Name=\"암모니아\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_FLOWMETER:this.ValueUnit=\"L/min\";this.Name=\"유량\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_FLOWMETER_TOTAL:this.ValueUnit=\"L\";this.Name=\"적산유량\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_BATTRY:this.ValueUnit=\"%\";this.Name=\"베터리\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_WEIGHT_KG:this.ValueUnit=\"kg\";this.Name=\"무게\";this.SignificantDigit=3;break;case KDSensorTypeEnum.SUT_WATER_MM:this.ValueUnit=\"mm\";this.Name=\"수위\";this.SignificantDigit=1;break;case KDSensorTypeEnum.SUT_DO_MG:this.ValueUnit=\"mg/L\";this.Name=\"용존산소량\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_SoilBulkEC:this.ValueUnit=\"dS/m\";this.Name=\"벌크EC\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_Counter:this.ValueUnit=\"N\";this.Name=\"계수기\";this.SignificantDigit=0;break;case KDSensorTypeEnum.SUT_H2S:this.ValueUnit=\"ppm\";this.Name=\"황화수소\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_PM25:this.ValueUnit=\"ug\";this.Name=\"초미세먼지\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_PM10:this.ValueUnit=\"ug\";this.Name=\"미세먼지\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_C1H4:this.ValueUnit=\"ppm\";this.Name=\"메탄\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_C2H6:this.ValueUnit=\"ppm\";this.Name=\"에탄\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_C3H6:this.ValueUnit=\"ppm\";this.Name=\"프로판\";this.SignificantDigit=2;break;case KDSensorTypeEnum.SUT_SOLARMJ:this.ValueUnit=\"J/cm2\";this.Name=\"누적일사량\";this.SignificantDigit=3;break;case KDSensorTypeEnum.SUT_DEWPOINT:this.ValueUnit=\"℃\";this.Name=\"이슬점\";this.SignificantDigit=1;break;default:this.ValueUnit=\" \";this.Name=\"신규센서\";this.SignificantDigit=1;break;}this.valuestring=this.GetValuestring(false,false);}//  console.log(\"SensorDevice  : \" + this.value );\n//센서값을 문자열로표시 표시\n_createClass(Sensordevice,[{key:\"GetValuestring\",value:function GetValuestring(isWithname,isWithunit){var strvalue=\"\";if(isWithname===true){strvalue+=this.Name+\" \";}strvalue+=this.value.toFixed(this.SignificantDigit);if(isWithunit===true){strvalue+=\" \"+this.ValueUnit;}return strvalue;}}],[{key:\"Clonbyjsonobj\",value:function Clonbyjsonobj(mobj){return new Sensordevice(mobj.nodeID,mobj.SensorCode,mobj.value,mobj.status,mobj.errorcount);}}]);return Sensordevice;}();module.exports=Sensordevice;","map":{"version":3,"sources":["H:/KBM_WORK/indoorfarm_work/sfu3300/KDIndoorFarm/frontend/farmapp/src/commonjs/sensordevice.js"],"names":["KDSensorTypeEnum","Object","freeze","SUT_None","SUT_Temperature","SUT_Humidity","SUT_SoilTemperature","SUT_SoilMoisture","SUT_SoilEC","SUT_CO2","SUT_WTemperature","SUT_SoraRadiation","SUT_WINDSPEED","SUT_WINDVANE","SUT_BAROMETER","SUT_PRESSURE","SUT_RAINGUAGE","SUT_RAINDETECTOR","SUT_UV","SUT_PE300_PH","SUT_PE300_EC","SUT_PE300_TEMP","SUT_CO1","SUT_O2","SUT_LIGHT","SUT_COLOR_RED","SUT_COLOR_GREEN","SUT_COLOR_BLUE","SUT_AMMONIA","SUT_FLOWMETER","SUT_FLOWMETER_TOTAL","SUT_BATTRY","SUT_WEIGHT_KG","SUT_WATER_MM","SUT_DO_MG","SUT_SoilBulkEC","SUT_Counter","SUT_H2S","SUT_PM25","SUT_PM10","SUT_C1H4","SUT_C2H6","SUT_C3H6","SUT_SOLARMJ","SUT_DEWPOINT","Sensordevice","nodeid","sensorcode","sensorvalue","sensorstatus","errorcount","hwchannel","sensortype","nodeID","Name","ValueUnit","SignificantDigit","channel","value","status","Sensortype","SensorCode","UniqID","valuestring","GetValuestring","isWithname","isWithunit","strvalue","toFixed","mobj","module","exports"],"mappings":"sSAIA,GAAMA,CAAAA,gBAAgB,CAAGC,MAAM,CAACC,MAAP,CACrB,CAEIC,QAAQ,CAAE,CAFd,CAGIC,eAAe,CAAE,CAHrB,CAGkC;AAC9BC,YAAY,CAAE,CAJlB,CAKIC,mBAAmB,CAAE,CALzB,CAMIC,gBAAgB,CAAE,CANtB,CAOIC,UAAU,CAAE,CAPhB,CAQIC,OAAO,CAAE,CARb,CASIC,gBAAgB,CAAE,CATtB,CASyB;AACrBC,iBAAiB,CAAE,CAVvB,CAWIC,aAAa,CAAE,CAXnB,CAYIC,YAAY,CAAE,EAZlB,CAaIC,aAAa,CAAE,EAbnB,CAcIC,YAAY,CAAE,EAdlB,CAeIC,aAAa,CAAE,EAfnB,CAgBIC,gBAAgB,CAAE,EAhBtB,CAiBIC,MAAM,CAAE,EAjBZ,CAmBIC,YAAY,CAAE,EAnBlB,CAmBgD;AAC5CC,YAAY,CAAE,EApBlB,CAqBIC,cAAc,CAAE,EArBpB,CAuBIC,OAAO,CAAE,EAvBb,CAuBiB;AACbC,MAAM,CAAE,EAxBZ,CAwBgB;AAEZC,SAAS,CAAE,EA1Bf,CA0BmB;AAEfC,aAAa,CAAE,EA5BnB,CA4BuB;AACnBC,eAAe,CAAE,EA7BrB,CA6ByB;AACrBC,cAAc,CAAE,EA9BpB,CA8BwB;AAEpBC,WAAW,CAAE,EAhCjB,CAgCqB;AACjBC,aAAa,CAAE,EAjCnB,CAiCuB;AACnBC,mBAAmB,CAAE,EAlCzB,CAkC6B;AAEzBC,UAAU,CAAE,EApChB,CAoCoB;AAChBC,aAAa,CAAE,EArCnB,CAqCuB;AACnBC,YAAY,CAAE,EAtClB,CAsCsB;AAElBC,SAAS,CAAE,EAxCf,CAwCmB;AAEfC,cAAc,CAAE,EA1CpB,CA0CwB;AACpBC,WAAW,CAAE,EA3CjB,CA2CqB;AAEjBC,OAAO,CAAE,EA7Cb,CA6CiB;AACbC,QAAQ,CAAE,EA9Cd,CA8CkB;AACdC,QAAQ,CAAE,EA/Cd,CA+CkB;AACdC,QAAQ,CAAE,EAhDd,CAgDkB;AACdC,QAAQ,CAAE,EAjDd,CAiDkB;AACdC,QAAQ,CAAE,EAlDd,CAkDkB;AACdC,WAAW,CAAE,EAnDjB,CAmDoB;AAChBC,YAAY,CAAE,EAAG;AApDrB,CADqB,CAAzB,C,GA2DOC,CAAAA,Y,yBAMC,sBAAYC,MAAZ,CAAoBC,UAApB,CAA+BC,WAA/B,CAA2CC,YAA3C,CAAuE,IAAdC,CAAAA,UAAc,2DAAH,CAAG,oCAGnE,GAAIC,CAAAA,SAAS,CAAIJ,UAAU,EAAI,CAAf,CAAoB,IAApC,CACA,GAAIK,CAAAA,UAAU,CAAGL,UAAU,CAAG,IAA9B,CAEA,KAAKM,MAAL,CAAcP,MAAd,CACA,KAAKQ,IAAL,CAAY,QAAZ,CACA,KAAKC,SAAL,CAAiB,GAAjB,CACA,KAAKC,gBAAL,CAAwB,CAAxB,CACA,KAAKC,OAAL,CAAeN,SAAf,CACA,KAAKO,KAAL,CAAaV,WAAb,CAAyB;AACzB,KAAKW,MAAL,CAAaV,YAAb,CAA0B;AAC1B,KAAKW,UAAL,CAAkBR,UAAlB,CACA,KAAKS,UAAL,CAAkBd,UAAlB,CACA,KAAKe,MAAL,CAAc,IAAIhB,MAAJ,CAAW,GAAX,CAAeC,UAA7B,CAAyC;AACzC,KAAKG,UAAL,CAAgBA,UAAhB,CAEA,OAAQ,KAAKU,UAAb,EACI,IAAK5D,CAAAA,gBAAgB,CAACI,eAAtB,CAAuC,KAAKmD,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC1G,IAAKxD,CAAAA,gBAAgB,CAACK,YAAtB,CAAoC,KAAKkD,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACvG,IAAKxD,CAAAA,gBAAgB,CAACM,mBAAtB,CAA2C,KAAKiD,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAChH,IAAKxD,CAAAA,gBAAgB,CAACO,gBAAtB,CAAwC,KAAKgD,SAAL,CAAiB,OAAjB,CAA0B,KAAKD,IAAL,CAAY,OAAZ,CAAqB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAElH,IAAKxD,CAAAA,gBAAgB,CAACQ,UAAtB,CAAkC,KAAK+C,SAAL,CAAiB,MAAjB,CAAyB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC1G,IAAKxD,CAAAA,gBAAgB,CAACS,OAAtB,CAA+B,KAAK8C,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,OAAZ,CAAqB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAGvG,IAAKxD,CAAAA,gBAAgB,CAACU,gBAAtB,CAAwC,KAAK6C,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAG7G,IAAKxD,CAAAA,gBAAgB,CAACW,iBAAtB,CAAyC,KAAK4C,SAAL,CAAiB,MAAjB,CAAyB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAE/G,IAAKxD,CAAAA,gBAAgB,CAACY,aAAtB,CAAqC,KAAK2C,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACxG,IAAKxD,CAAAA,gBAAgB,CAACa,YAAtB,CAAoC,KAAK0C,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAEzG,IAAKxD,CAAAA,gBAAgB,CAACc,aAAtB,CAAqC,KAAKyC,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,KAAZ,CAAmB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC3G,IAAKxD,CAAAA,gBAAgB,CAACe,YAAtB,CAAoC,KAAKwC,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACzG,IAAKxD,CAAAA,gBAAgB,CAACgB,aAAtB,CAAqC,KAAKuC,SAAL,CAAiB,IAAjB,CAAuB,KAAKD,IAAL,CAAY,KAAZ,CAAmB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC1G,IAAKxD,CAAAA,gBAAgB,CAACiB,gBAAtB,CAAwC,KAAKsC,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAE7G,IAAKxD,CAAAA,gBAAgB,CAACkB,MAAtB,CAA8B,KAAKqC,SAAL,CAAiB,EAAjB,CAAqB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAChG,IAAKxD,CAAAA,gBAAgB,CAACmB,YAAtB,CAAoC,KAAKoC,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACvG,IAAKxD,CAAAA,gBAAgB,CAACoB,YAAtB,CAAoC,KAAKmC,SAAL,CAAiB,MAAjB,CAAyB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC1G,IAAKxD,CAAAA,gBAAgB,CAACqB,cAAtB,CAAsC,KAAKkC,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,SAAZ,CAAuB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAE9G,IAAKxD,CAAAA,gBAAgB,CAACsB,OAAtB,CAA+B,KAAKiC,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,OAAZ,CAAqB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACvG,IAAKxD,CAAAA,gBAAgB,CAACuB,MAAtB,CAA8B,KAAKgC,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACjG,IAAKxD,CAAAA,gBAAgB,CAACwB,SAAtB,CAAiC,KAAK+B,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACtG,IAAKxD,CAAAA,gBAAgB,CAACyB,aAAtB,CAAqC,KAAK8B,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,KAAZ,CAAmB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACzG,IAAKxD,CAAAA,gBAAgB,CAAC0B,eAAtB,CAAuC,KAAK6B,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,OAAZ,CAAqB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC7G,IAAKxD,CAAAA,gBAAgB,CAAC2B,cAAtB,CAAsC,KAAK4B,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC3G,IAAKxD,CAAAA,gBAAgB,CAAC4B,WAAtB,CAAmC,KAAK2B,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC1G,IAAKxD,CAAAA,gBAAgB,CAAC6B,aAAtB,CAAqC,KAAK0B,SAAL,CAAiB,OAAjB,CAA0B,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC5G,IAAKxD,CAAAA,gBAAgB,CAAC8B,mBAAtB,CAA2C,KAAKyB,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAChH,IAAKxD,CAAAA,gBAAgB,CAAC+B,UAAtB,CAAkC,KAAKwB,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,KAAZ,CAAmB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACtG,IAAKxD,CAAAA,gBAAgB,CAACgC,aAAtB,CAAqC,KAAKuB,SAAL,CAAiB,IAAjB,CAAuB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACzG,IAAKxD,CAAAA,gBAAgB,CAACiC,YAAtB,CAAoC,KAAKsB,SAAL,CAAiB,IAAjB,CAAuB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACxG,IAAKxD,CAAAA,gBAAgB,CAACkC,SAAtB,CAAiC,KAAKqB,SAAL,CAAiB,MAAjB,CAAyB,KAAKD,IAAL,CAAY,OAAZ,CAAqB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC1G,IAAKxD,CAAAA,gBAAgB,CAACmC,cAAtB,CAAsC,KAAKoB,SAAL,CAAiB,MAAjB,CAAyB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC9G,IAAKxD,CAAAA,gBAAgB,CAACoC,WAAtB,CAAmC,KAAKmB,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,KAAZ,CAAmB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACvG,IAAKxD,CAAAA,gBAAgB,CAACqC,OAAtB,CAA+B,KAAKkB,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACtG,IAAKxD,CAAAA,gBAAgB,CAACsC,QAAtB,CAAgC,KAAKiB,SAAL,CAAiB,IAAjB,CAAuB,KAAKD,IAAL,CAAY,OAAZ,CAAqB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACvG,IAAKxD,CAAAA,gBAAgB,CAACuC,QAAtB,CAAgC,KAAKgB,SAAL,CAAiB,IAAjB,CAAuB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACtG,IAAKxD,CAAAA,gBAAgB,CAACwC,QAAtB,CAAgC,KAAKe,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACrG,IAAKxD,CAAAA,gBAAgB,CAACyC,QAAtB,CAAgC,KAAKc,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,IAAZ,CAAkB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACrG,IAAKxD,CAAAA,gBAAgB,CAAC0C,QAAtB,CAAgC,KAAKa,SAAL,CAAiB,KAAjB,CAAwB,KAAKD,IAAL,CAAY,KAAZ,CAAmB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACtG,IAAKxD,CAAAA,gBAAgB,CAAC2C,WAAtB,CAAmC,KAAKY,SAAL,CAAiB,OAAjB,CAA0B,KAAKD,IAAL,CAAY,OAAZ,CAAqB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MAC7G,IAAKxD,CAAAA,gBAAgB,CAAC4C,YAAtB,CAAoC,KAAKW,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,KAAZ,CAAmB,KAAKE,gBAAL,CAAwB,CAAxB,CAA2B,MACxG,QACI,KAAKD,SAAL,CAAiB,GAAjB,CAAsB,KAAKD,IAAL,CAAY,MAAZ,CAAoB,KAAKE,gBAAL,CAAwB,CAAxB,CAC1C,MArDR,CAyDA,KAAKO,WAAL,CAAmB,KAAKC,cAAL,CAAoB,KAApB,CAA0B,KAA1B,CAAnB,CAIH,CAEL;AAGA;uDACA,wBAAeC,UAAf,CAA2BC,UAA3B,CAAsC,CAElC,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CAEA,GAAIF,UAAU,GAAK,IAAnB,CAAyB,CAErBE,QAAQ,EAAI,KAAKb,IAAL,CAAY,GAAxB,CACH,CAEDa,QAAQ,EAAI,KAAKT,KAAL,CAAWU,OAAX,CAAmB,KAAKZ,gBAAxB,CAAZ,CACA,GAAIU,UAAU,GAAK,IAAnB,CAAyB,CACrBC,QAAQ,EAAI,IAAM,KAAKZ,SAAvB,CACH,CAED,MAAOY,CAAAA,QAAP,CAEH,C,+BA1GG,uBAAqBE,IAArB,CACA,CACI,MAAO,IAAIxB,CAAAA,YAAJ,CAAiBwB,IAAI,CAAChB,MAAtB,CAA6BgB,IAAI,CAACR,UAAlC,CAA8CQ,IAAI,CAACX,KAAnD,CAA0DW,IAAI,CAACV,MAA/D,CAAsEU,IAAI,CAACnB,UAA3E,CAAP,CACH,C,4BA8GToB,MAAM,CAACC,OAAP,CAAiB1B,YAAjB","sourcesContent":["\r\n\r\n\r\n\r\nconst KDSensorTypeEnum = Object.freeze(\r\n    {\r\n\r\n        SUT_None: 0,\r\n        SUT_Temperature: 1,           //공기온도\r\n        SUT_Humidity: 2,\r\n        SUT_SoilTemperature: 3,\r\n        SUT_SoilMoisture: 4,\r\n        SUT_SoilEC: 5,\r\n        SUT_CO2: 6,\r\n        SUT_WTemperature: 7, ///배지온도\r\n        SUT_SoraRadiation: 8,\r\n        SUT_WINDSPEED: 9,\r\n        SUT_WINDVANE: 10,\r\n        SUT_BAROMETER: 11,\r\n        SUT_PRESSURE: 12,\r\n        SUT_RAINGUAGE: 13,\r\n        SUT_RAINDETECTOR: 14,\r\n        SUT_UV: 15,\r\n\r\n        SUT_PE300_PH: 16,                           ///\r\n        SUT_PE300_EC: 17,\r\n        SUT_PE300_TEMP: 18,\r\n\r\n        SUT_CO1: 19, //Co  센서\r\n        SUT_O2: 20, //산소 센서\r\n\r\n        SUT_LIGHT: 21, //SMBL 조도 센서\r\n\r\n        SUT_COLOR_RED: 22, //SMBL 컬러센서 Red   n 0~100000\r\n        SUT_COLOR_GREEN: 23, //SMBL 컬러센서 Green  n  0~100000\r\n        SUT_COLOR_BLUE: 24, //SMBL 컬러센서 Blue  n 0~100000\r\n\r\n        SUT_AMMONIA: 25, //암모니아 센서 ppm  0~1000\r\n        SUT_FLOWMETER: 26, //유량계  L/min    0.01~1000.00\r\n        SUT_FLOWMETER_TOTAL: 27, //적산 유량계  L    0.1~10000.0\r\n\r\n        SUT_BATTRY: 28, //베터리 레벨  Battery %   0~100 %\r\n        SUT_WEIGHT_KG: 29, //무게  Weght kg   0.001 소수점 3자리\r\n        SUT_WATER_MM: 30, //수위      mm  1~10000mm\r\n\r\n        SUT_DO_MG: 31, //용존산소량  ( DO)    0~20 mg/L  소수점 2자리\r\n\r\n        SUT_SoilBulkEC: 32, // 토양 벌크 EC\r\n        SUT_Counter: 33, //  단순계수기\r\n\r\n        SUT_H2S: 34, //  황화수소\r\n        SUT_PM25: 35, //  초미세먼지\r\n        SUT_PM10: 36, //  미세먼지\r\n        SUT_C1H4: 37, //  매탄\r\n        SUT_C2H6: 38, //  에탄\r\n        SUT_C3H6: 39, // 프로판\r\n        SUT_SOLARMJ: 40,// MJ/m2    누적일사량    메가 줄  소수점 3자리\r\n        SUT_DEWPOINT: 41,// ℃   이슬점     소스점 1자리\r\n\r\n    });\r\n\r\n\r\n\r\n class Sensordevice{\r\n        static Clonbyjsonobj(mobj)\r\n        {\r\n            return new Sensordevice(mobj.nodeID,mobj.SensorCode, mobj.value, mobj.status,mobj.errorcount);\r\n        }\r\n    \r\n        constructor(nodeid, sensorcode,sensorvalue,sensorstatus, errorcount=0) {\r\n    \r\n    \r\n            let hwchannel = (sensorcode >> 8) & 0xff;\r\n            let sensortype = sensorcode & 0xff;\r\n\r\n            this.nodeID = nodeid;\r\n            this.Name = \"sensor\";\r\n            this.ValueUnit = \" \";\r\n            this.SignificantDigit = 3;\r\n            this.channel = hwchannel;\r\n            this.value = sensorvalue;//Buffer.from([(repdatas[0] >> 0) & 0xFF, (repdatas[0] >> 8) & 0xFF, (repdatas[1] >> 0) & 0xFF, (repdatas[1] >> 8) & 0xFF]).readFloatLE(0);\r\n            this.status =sensorstatus;// repdatas[2];\r\n            this.Sensortype = sensortype;\r\n            this.SensorCode = sensorcode;\r\n            this.UniqID = \"S\"+nodeid+\"C\"+sensorcode; // 센서를 구별하는 고유ID  센서노드와 채널 타입정보로 생성한다. S11C123\r\n            this.errorcount=errorcount;\r\n\r\n            switch (this.Sensortype) {\r\n                case KDSensorTypeEnum.SUT_Temperature: this.ValueUnit = \"℃\"; this.Name = \"온도\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_Humidity: this.ValueUnit = \"%\"; this.Name = \"습도\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_SoilTemperature: this.ValueUnit = \"℃\"; this.Name = \"토양온도\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_SoilMoisture: this.ValueUnit = \"%vol.\"; this.Name = \"토양함수율\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_SoilEC: this.ValueUnit = \"dS/m\"; this.Name = \"토양EC\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_CO2: this.ValueUnit = \"ppm\"; this.Name = \"이산화탄소\"; this.SignificantDigit = 0; break;\r\n                \r\n    \r\n                case KDSensorTypeEnum.SUT_WTemperature: this.ValueUnit = \"℃\"; this.Name = \"배지온도\"; this.SignificantDigit = 1; break;\r\n    \r\n    \r\n                case KDSensorTypeEnum.SUT_SoraRadiation: this.ValueUnit = \"W/m2\"; this.Name = \"일사\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_WINDSPEED: this.ValueUnit = \"°\"; this.Name = \"풍향\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_WINDVANE: this.ValueUnit = \"m/s\"; this.Name = \"풍속\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_BAROMETER: this.ValueUnit = \"hPa\"; this.Name = \"대기압\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_PRESSURE: this.ValueUnit = \"hPa\"; this.Name = \"압력\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_RAINGUAGE: this.ValueUnit = \"mm\"; this.Name = \"강우량\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_RAINDETECTOR: this.ValueUnit = \" \"; this.Name = \"강우감지\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_UV: this.ValueUnit = \"\"; this.Name = \"UV\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_PE300_PH: this.ValueUnit = \" \"; this.Name = \"pH\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_PE300_EC: this.ValueUnit = \"dS/m\"; this.Name = \"EC\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_PE300_TEMP: this.ValueUnit = \"℃\"; this.Name = \"PE300온도\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_CO1: this.ValueUnit = \"ppm\"; this.Name = \"일산화탄소\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_O2: this.ValueUnit = \"%\"; this.Name = \"산소\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_LIGHT: this.ValueUnit = \"Lux\"; this.Name = \"조도\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_COLOR_RED: this.ValueUnit = \" \"; this.Name = \"RED\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_COLOR_GREEN: this.ValueUnit = \" \"; this.Name = \"GREEN\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_COLOR_BLUE: this.ValueUnit = \" \"; this.Name = \"BLUE\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_AMMONIA: this.ValueUnit = \"ppm\"; this.Name = \"암모니아\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_FLOWMETER: this.ValueUnit = \"L/min\"; this.Name = \"유량\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_FLOWMETER_TOTAL: this.ValueUnit = \"L\"; this.Name = \"적산유량\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_BATTRY: this.ValueUnit = \"%\"; this.Name = \"베터리\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_WEIGHT_KG: this.ValueUnit = \"kg\"; this.Name = \"무게\"; this.SignificantDigit = 3; break;\r\n                case KDSensorTypeEnum.SUT_WATER_MM: this.ValueUnit = \"mm\"; this.Name = \"수위\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_DO_MG: this.ValueUnit = \"mg/L\"; this.Name = \"용존산소량\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_SoilBulkEC: this.ValueUnit = \"dS/m\"; this.Name = \"벌크EC\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_Counter: this.ValueUnit = \"N\"; this.Name = \"계수기\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_H2S: this.ValueUnit = \"ppm\"; this.Name = \"황화수소\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_PM25: this.ValueUnit = \"ug\"; this.Name = \"초미세먼지\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_PM10: this.ValueUnit = \"ug\"; this.Name = \"미세먼지\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_C1H4: this.ValueUnit = \"ppm\"; this.Name = \"메탄\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_C2H6: this.ValueUnit = \"ppm\"; this.Name = \"에탄\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_C3H6: this.ValueUnit = \"ppm\"; this.Name = \"프로판\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_SOLARMJ: this.ValueUnit = \"J/cm2\"; this.Name = \"누적일사량\"; this.SignificantDigit = 3; break;\r\n                case KDSensorTypeEnum.SUT_DEWPOINT: this.ValueUnit = \"℃\"; this.Name = \"이슬점\"; this.SignificantDigit = 1; break;\r\n                default:\r\n                    this.ValueUnit = \" \"; this.Name = \"신규센서\"; this.SignificantDigit = 1; \r\n                    break;\r\n    \r\n            }\r\n    \r\n            this.valuestring = this.GetValuestring(false,false);\r\n    \r\n    \r\n    \r\n        }\r\n\r\n    //  console.log(\"SensorDevice  : \" + this.value );\r\n\r\n\r\n    //센서값을 문자열로표시 표시\r\n    GetValuestring(isWithname, isWithunit){\r\n\r\n        let strvalue = \"\";\r\n\r\n        if (isWithname === true) {\r\n\r\n            strvalue += this.Name + \" \";\r\n        }\r\n\r\n        strvalue += this.value.toFixed(this.SignificantDigit);\r\n        if (isWithunit === true) {\r\n            strvalue += \" \" + this.ValueUnit;\r\n        }\r\n\r\n        return strvalue;\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nmodule.exports = Sensordevice;\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var KDSensorTypeEnum = Object.freeze({\n  SUT_None: 0,\n  SUT_Temperature: 1,\n  //공기온도\n  SUT_Humidity: 2,\n  SUT_SoilTemperature: 3,\n  SUT_SoilMoisture: 4,\n  SUT_SoilEC: 5,\n  SUT_CO2: 6,\n  SUT_WTemperature: 7,\n  ///배지온도\n  SUT_SoraRadiation: 8,\n  SUT_WINDSPEED: 9,\n  SUT_WINDVANE: 10,\n  SUT_BAROMETER: 11,\n  SUT_PRESSURE: 12,\n  SUT_RAINGUAGE: 13,\n  SUT_RAINDETECTOR: 14,\n  SUT_UV: 15,\n  SUT_PE300_PH: 16,\n  ///\n  SUT_PE300_EC: 17,\n  SUT_PE300_TEMP: 18,\n  SUT_CO1: 19,\n  //Co  센서\n  SUT_O2: 20,\n  //산소 센서\n  SUT_LIGHT: 21,\n  //SMBL 조도 센서\n  SUT_COLOR_RED: 22,\n  //SMBL 컬러센서 Red   n 0~100000\n  SUT_COLOR_GREEN: 23,\n  //SMBL 컬러센서 Green  n  0~100000\n  SUT_COLOR_BLUE: 24,\n  //SMBL 컬러센서 Blue  n 0~100000\n  SUT_AMMONIA: 25,\n  //암모니아 센서 ppm  0~1000\n  SUT_FLOWMETER: 26,\n  //유량계  L/min    0.01~1000.00\n  SUT_FLOWMETER_TOTAL: 27,\n  //적산 유량계  L    0.1~10000.0\n  SUT_BATTRY: 28,\n  //베터리 레벨  Battery %   0~100 %\n  SUT_WEIGHT_KG: 29,\n  //무게  Weght kg   0.001 소수점 3자리\n  SUT_WATER_MM: 30,\n  //수위      mm  1~10000mm\n  SUT_DO_MG: 31,\n  //용존산소량  ( DO)    0~20 mg/L  소수점 2자리\n  SUT_SoilBulkEC: 32,\n  // 토양 벌크 EC\n  SUT_Counter: 33,\n  //  단순계수기\n  SUT_H2S: 34,\n  //  황화수소\n  SUT_PM25: 35,\n  //  초미세먼지\n  SUT_PM10: 36,\n  //  미세먼지\n  SUT_C1H4: 37,\n  //  매탄\n  SUT_C2H6: 38,\n  //  에탄\n  SUT_C3H6: 39,\n  // 프로판\n  SUT_SOLARMJ: 40,\n  // MJ/m2    누적일사량    메가 줄  소수점 3자리\n  SUT_DEWPOINT: 41 // ℃   이슬점     소스점 1자리\n\n});\n\nclass Sensordevice {\n  static Clonbyjsonobj(mobj) {\n    return new Sensordevice(mobj.nodeID, mobj.SensorCode, mobj.value, mobj.status);\n  }\n\n  constructor(nodeid, sensorcode, sensorvalue, sensorstatus) {\n    let hwchannel = sensorcode >> 8 & 0xff;\n    let sensortype = sensorcode & 0xff;\n    this.nodeID = nodeid;\n    this.Name = \"sensor\";\n    this.ValueUnit = \" \";\n    this.SignificantDigit = 3;\n    this.channel = hwchannel;\n    this.value = sensorvalue; //Buffer.from([(repdatas[0] >> 0) & 0xFF, (repdatas[0] >> 8) & 0xFF, (repdatas[1] >> 0) & 0xFF, (repdatas[1] >> 8) & 0xFF]).readFloatLE(0);\n\n    this.status = sensorstatus; // repdatas[2];\n\n    this.Sensortype = sensortype;\n    this.SensorCode = sensorcode;\n\n    switch (this.Sensortype) {\n      case KDSensorTypeEnum.SUT_Temperature:\n        this.ValueUnit = \"℃\";\n        this.Name = \"온도\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_Humidity:\n        this.ValueUnit = \"%\";\n        this.Name = \"습도\";\n        this.SignificantDigit = 0;\n        break;\n\n      case KDSensorTypeEnum.SUT_SoilTemperature:\n        this.ValueUnit = \"℃\";\n        this.Name = \"토양온도\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_SoilMoisture:\n        this.ValueUnit = \"%vol.\";\n        this.Name = \"토양함수율\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_SoilEC:\n        this.ValueUnit = \"dS/m\";\n        this.Name = \"토양EC\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_CO2:\n        this.ValueUnit = \"ppm\";\n        this.Name = \"이산화탄소\";\n        this.SignificantDigit = 0;\n        break;\n\n      case KDSensorTypeEnum.SUT_WTemperature:\n        this.ValueUnit = \"℃\";\n        this.Name = \"배지온도\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_SoraRadiation:\n        this.ValueUnit = \"W/m2\";\n        this.Name = \"일사\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_WINDSPEED:\n        this.ValueUnit = \"°\";\n        this.Name = \"풍향\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_WINDVANE:\n        this.ValueUnit = \"m/s\";\n        this.Name = \"풍속\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_BAROMETER:\n        this.ValueUnit = \"hPa\";\n        this.Name = \"대기압\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_PRESSURE:\n        this.ValueUnit = \"hPa\";\n        this.Name = \"압력\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_RAINGUAGE:\n        this.ValueUnit = \"mm\";\n        this.Name = \"강우량\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_RAINDETECTOR:\n        this.ValueUnit = \" \";\n        this.Name = \"강우감지\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_UV:\n        this.ValueUnit = \"\";\n        this.Name = \"UV\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_PE300_PH:\n        this.ValueUnit = \" \";\n        this.Name = \"pH\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_PE300_EC:\n        this.ValueUnit = \"dS/m\";\n        this.Name = \"EC\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_PE300_TEMP:\n        this.ValueUnit = \"℃\";\n        this.Name = \"PE300온도\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_CO1:\n        this.ValueUnit = \"ppm\";\n        this.Name = \"일산화탄소\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_O2:\n        this.ValueUnit = \"%\";\n        this.Name = \"산소\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_LIGHT:\n        this.ValueUnit = \"Lux\";\n        this.Name = \"조도\";\n        this.SignificantDigit = 0;\n        break;\n\n      case KDSensorTypeEnum.SUT_COLOR_RED:\n        this.ValueUnit = \" \";\n        this.Name = \"RED\";\n        this.SignificantDigit = 0;\n        break;\n\n      case KDSensorTypeEnum.SUT_COLOR_GREEN:\n        this.ValueUnit = \" \";\n        this.Name = \"GREEN\";\n        this.SignificantDigit = 0;\n        break;\n\n      case KDSensorTypeEnum.SUT_COLOR_BLUE:\n        this.ValueUnit = \" \";\n        this.Name = \"BLUE\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_AMMONIA:\n        this.ValueUnit = \"ppm\";\n        this.Name = \"암모니아\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_FLOWMETER:\n        this.ValueUnit = \"L/min\";\n        this.Name = \"유량\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_FLOWMETER_TOTAL:\n        this.ValueUnit = \"L\";\n        this.Name = \"적산유량\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_BATTRY:\n        this.ValueUnit = \"%\";\n        this.Name = \"베터리\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_WEIGHT_KG:\n        this.ValueUnit = \"kg\";\n        this.Name = \"무게\";\n        this.SignificantDigit = 3;\n        break;\n\n      case KDSensorTypeEnum.SUT_WATER_MM:\n        this.ValueUnit = \"mm\";\n        this.Name = \"수위\";\n        this.SignificantDigit = 1;\n        break;\n\n      case KDSensorTypeEnum.SUT_DO_MG:\n        this.ValueUnit = \"mg/L\";\n        this.Name = \"용존산소량\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_SoilBulkEC:\n        this.ValueUnit = \"dS/m\";\n        this.Name = \"벌크EC\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_Counter:\n        this.ValueUnit = \"N\";\n        this.Name = \"계수기\";\n        this.SignificantDigit = 0;\n        break;\n\n      case KDSensorTypeEnum.SUT_H2S:\n        this.ValueUnit = \"ppm\";\n        this.Name = \"황화수소\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_PM25:\n        this.ValueUnit = \"ug\";\n        this.Name = \"초미세먼지\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_PM10:\n        this.ValueUnit = \"ug\";\n        this.Name = \"미세먼지\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_C1H4:\n        this.ValueUnit = \"ppm\";\n        this.Name = \"메탄\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_C2H6:\n        this.ValueUnit = \"ppm\";\n        this.Name = \"에탄\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_C3H6:\n        this.ValueUnit = \"ppm\";\n        this.Name = \"프로판\";\n        this.SignificantDigit = 2;\n        break;\n\n      case KDSensorTypeEnum.SUT_SOLARMJ:\n        this.ValueUnit = \"J/cm2\";\n        this.Name = \"누적일사량\";\n        this.SignificantDigit = 3;\n        break;\n\n      case KDSensorTypeEnum.SUT_DEWPOINT:\n        this.ValueUnit = \"℃\";\n        this.Name = \"이슬점\";\n        this.SignificantDigit = 1;\n        break;\n\n      default:\n        this.ValueUnit = \" \";\n        this.Name = \"신규센서\";\n        this.SignificantDigit = 1;\n        break;\n    }\n\n    this.valuestring = this.GetValuestring(false, false);\n  } //  console.log(\"SensorDevice  : \" + this.value );\n  //센서값을 문자열로표시 표시\n\n\n  GetValuestring(isWithname, isWithunit) {\n    let strvalue = \"\";\n\n    if (isWithname == true) {\n      strvalue += this.Name + \" \";\n    }\n\n    strvalue += this.value.toFixed(this.SignificantDigit);\n\n    if (isWithunit == true) {\n      strvalue += \" \" + this.ValueUnit;\n    }\n\n    return strvalue;\n  }\n\n}\n\nmodule.exports = Sensordevice;","map":{"version":3,"sources":["H:/KBM_WORK/indoorfarm_work/sfu3300/KDIndoorFarm/frontend/farmapp/src/commonjs/sensordevice.js"],"names":["KDSensorTypeEnum","Object","freeze","SUT_None","SUT_Temperature","SUT_Humidity","SUT_SoilTemperature","SUT_SoilMoisture","SUT_SoilEC","SUT_CO2","SUT_WTemperature","SUT_SoraRadiation","SUT_WINDSPEED","SUT_WINDVANE","SUT_BAROMETER","SUT_PRESSURE","SUT_RAINGUAGE","SUT_RAINDETECTOR","SUT_UV","SUT_PE300_PH","SUT_PE300_EC","SUT_PE300_TEMP","SUT_CO1","SUT_O2","SUT_LIGHT","SUT_COLOR_RED","SUT_COLOR_GREEN","SUT_COLOR_BLUE","SUT_AMMONIA","SUT_FLOWMETER","SUT_FLOWMETER_TOTAL","SUT_BATTRY","SUT_WEIGHT_KG","SUT_WATER_MM","SUT_DO_MG","SUT_SoilBulkEC","SUT_Counter","SUT_H2S","SUT_PM25","SUT_PM10","SUT_C1H4","SUT_C2H6","SUT_C3H6","SUT_SOLARMJ","SUT_DEWPOINT","Sensordevice","Clonbyjsonobj","mobj","nodeID","SensorCode","value","status","constructor","nodeid","sensorcode","sensorvalue","sensorstatus","hwchannel","sensortype","Name","ValueUnit","SignificantDigit","channel","Sensortype","valuestring","GetValuestring","isWithname","isWithunit","strvalue","toFixed","module","exports"],"mappings":"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","sourcesContent":["\r\n\r\n\r\n\r\nvar KDSensorTypeEnum = Object.freeze(\r\n    {\r\n\r\n        SUT_None: 0,\r\n        SUT_Temperature: 1,           //공기온도\r\n        SUT_Humidity: 2,\r\n        SUT_SoilTemperature: 3,\r\n        SUT_SoilMoisture: 4,\r\n        SUT_SoilEC: 5,\r\n        SUT_CO2: 6,\r\n        SUT_WTemperature: 7, ///배지온도\r\n        SUT_SoraRadiation: 8,\r\n        SUT_WINDSPEED: 9,\r\n        SUT_WINDVANE: 10,\r\n        SUT_BAROMETER: 11,\r\n        SUT_PRESSURE: 12,\r\n        SUT_RAINGUAGE: 13,\r\n        SUT_RAINDETECTOR: 14,\r\n        SUT_UV: 15,\r\n\r\n        SUT_PE300_PH: 16,                           ///\r\n        SUT_PE300_EC: 17,\r\n        SUT_PE300_TEMP: 18,\r\n\r\n        SUT_CO1: 19, //Co  센서\r\n        SUT_O2: 20, //산소 센서\r\n\r\n        SUT_LIGHT: 21, //SMBL 조도 센서\r\n\r\n        SUT_COLOR_RED: 22, //SMBL 컬러센서 Red   n 0~100000\r\n        SUT_COLOR_GREEN: 23, //SMBL 컬러센서 Green  n  0~100000\r\n        SUT_COLOR_BLUE: 24, //SMBL 컬러센서 Blue  n 0~100000\r\n\r\n        SUT_AMMONIA: 25, //암모니아 센서 ppm  0~1000\r\n        SUT_FLOWMETER: 26, //유량계  L/min    0.01~1000.00\r\n        SUT_FLOWMETER_TOTAL: 27, //적산 유량계  L    0.1~10000.0\r\n\r\n        SUT_BATTRY: 28, //베터리 레벨  Battery %   0~100 %\r\n        SUT_WEIGHT_KG: 29, //무게  Weght kg   0.001 소수점 3자리\r\n        SUT_WATER_MM: 30, //수위      mm  1~10000mm\r\n\r\n        SUT_DO_MG: 31, //용존산소량  ( DO)    0~20 mg/L  소수점 2자리\r\n\r\n        SUT_SoilBulkEC: 32, // 토양 벌크 EC\r\n        SUT_Counter: 33, //  단순계수기\r\n\r\n        SUT_H2S: 34, //  황화수소\r\n        SUT_PM25: 35, //  초미세먼지\r\n        SUT_PM10: 36, //  미세먼지\r\n        SUT_C1H4: 37, //  매탄\r\n        SUT_C2H6: 38, //  에탄\r\n        SUT_C3H6: 39, // 프로판\r\n        SUT_SOLARMJ: 40,// MJ/m2    누적일사량    메가 줄  소수점 3자리\r\n        SUT_DEWPOINT: 41,// ℃   이슬점     소스점 1자리\r\n\r\n    });\r\n\r\n\r\n\r\n class Sensordevice{\r\n        static Clonbyjsonobj(mobj)\r\n        {\r\n            return new Sensordevice(mobj.nodeID,mobj.SensorCode, mobj.value, mobj.status);\r\n        }\r\n    \r\n        constructor(nodeid, sensorcode,sensorvalue,sensorstatus) {\r\n    \r\n    \r\n            let hwchannel = (sensorcode >> 8) & 0xff;\r\n            let sensortype = sensorcode & 0xff;\r\n\r\n            this.nodeID = nodeid;\r\n            this.Name = \"sensor\";\r\n            this.ValueUnit = \" \";\r\n            this.SignificantDigit = 3;\r\n            this.channel = hwchannel;\r\n            this.value = sensorvalue;//Buffer.from([(repdatas[0] >> 0) & 0xFF, (repdatas[0] >> 8) & 0xFF, (repdatas[1] >> 0) & 0xFF, (repdatas[1] >> 8) & 0xFF]).readFloatLE(0);\r\n            this.status =sensorstatus;// repdatas[2];\r\n            this.Sensortype = sensortype;\r\n            this.SensorCode = sensorcode;\r\n\r\n            switch (this.Sensortype) {\r\n                case KDSensorTypeEnum.SUT_Temperature: this.ValueUnit = \"℃\"; this.Name = \"온도\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_Humidity: this.ValueUnit = \"%\"; this.Name = \"습도\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_SoilTemperature: this.ValueUnit = \"℃\"; this.Name = \"토양온도\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_SoilMoisture: this.ValueUnit = \"%vol.\"; this.Name = \"토양함수율\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_SoilEC: this.ValueUnit = \"dS/m\"; this.Name = \"토양EC\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_CO2: this.ValueUnit = \"ppm\"; this.Name = \"이산화탄소\"; this.SignificantDigit = 0; break;\r\n                \r\n    \r\n                case KDSensorTypeEnum.SUT_WTemperature: this.ValueUnit = \"℃\"; this.Name = \"배지온도\"; this.SignificantDigit = 1; break;\r\n    \r\n    \r\n                case KDSensorTypeEnum.SUT_SoraRadiation: this.ValueUnit = \"W/m2\"; this.Name = \"일사\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_WINDSPEED: this.ValueUnit = \"°\"; this.Name = \"풍향\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_WINDVANE: this.ValueUnit = \"m/s\"; this.Name = \"풍속\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_BAROMETER: this.ValueUnit = \"hPa\"; this.Name = \"대기압\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_PRESSURE: this.ValueUnit = \"hPa\"; this.Name = \"압력\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_RAINGUAGE: this.ValueUnit = \"mm\"; this.Name = \"강우량\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_RAINDETECTOR: this.ValueUnit = \" \"; this.Name = \"강우감지\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_UV: this.ValueUnit = \"\"; this.Name = \"UV\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_PE300_PH: this.ValueUnit = \" \"; this.Name = \"pH\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_PE300_EC: this.ValueUnit = \"dS/m\"; this.Name = \"EC\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_PE300_TEMP: this.ValueUnit = \"℃\"; this.Name = \"PE300온도\"; this.SignificantDigit = 1; break;\r\n    \r\n                case KDSensorTypeEnum.SUT_CO1: this.ValueUnit = \"ppm\"; this.Name = \"일산화탄소\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_O2: this.ValueUnit = \"%\"; this.Name = \"산소\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_LIGHT: this.ValueUnit = \"Lux\"; this.Name = \"조도\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_COLOR_RED: this.ValueUnit = \" \"; this.Name = \"RED\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_COLOR_GREEN: this.ValueUnit = \" \"; this.Name = \"GREEN\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_COLOR_BLUE: this.ValueUnit = \" \"; this.Name = \"BLUE\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_AMMONIA: this.ValueUnit = \"ppm\"; this.Name = \"암모니아\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_FLOWMETER: this.ValueUnit = \"L/min\"; this.Name = \"유량\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_FLOWMETER_TOTAL: this.ValueUnit = \"L\"; this.Name = \"적산유량\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_BATTRY: this.ValueUnit = \"%\"; this.Name = \"베터리\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_WEIGHT_KG: this.ValueUnit = \"kg\"; this.Name = \"무게\"; this.SignificantDigit = 3; break;\r\n                case KDSensorTypeEnum.SUT_WATER_MM: this.ValueUnit = \"mm\"; this.Name = \"수위\"; this.SignificantDigit = 1; break;\r\n                case KDSensorTypeEnum.SUT_DO_MG: this.ValueUnit = \"mg/L\"; this.Name = \"용존산소량\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_SoilBulkEC: this.ValueUnit = \"dS/m\"; this.Name = \"벌크EC\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_Counter: this.ValueUnit = \"N\"; this.Name = \"계수기\"; this.SignificantDigit = 0; break;\r\n                case KDSensorTypeEnum.SUT_H2S: this.ValueUnit = \"ppm\"; this.Name = \"황화수소\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_PM25: this.ValueUnit = \"ug\"; this.Name = \"초미세먼지\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_PM10: this.ValueUnit = \"ug\"; this.Name = \"미세먼지\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_C1H4: this.ValueUnit = \"ppm\"; this.Name = \"메탄\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_C2H6: this.ValueUnit = \"ppm\"; this.Name = \"에탄\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_C3H6: this.ValueUnit = \"ppm\"; this.Name = \"프로판\"; this.SignificantDigit = 2; break;\r\n                case KDSensorTypeEnum.SUT_SOLARMJ: this.ValueUnit = \"J/cm2\"; this.Name = \"누적일사량\"; this.SignificantDigit = 3; break;\r\n                case KDSensorTypeEnum.SUT_DEWPOINT: this.ValueUnit = \"℃\"; this.Name = \"이슬점\"; this.SignificantDigit = 1; break;\r\n                default:\r\n                    this.ValueUnit = \" \"; this.Name = \"신규센서\"; this.SignificantDigit = 1; \r\n                    break;\r\n    \r\n            }\r\n    \r\n            this.valuestring = this.GetValuestring(false,false);\r\n    \r\n    \r\n    \r\n        }\r\n\r\n    //  console.log(\"SensorDevice  : \" + this.value );\r\n\r\n\r\n    //센서값을 문자열로표시 표시\r\n    GetValuestring(isWithname, isWithunit){\r\n\r\n        let strvalue = \"\";\r\n\r\n        if (isWithname == true) {\r\n\r\n            strvalue += this.Name + \" \";\r\n        }\r\n\r\n        strvalue += this.value.toFixed(this.SignificantDigit);\r\n        if (isWithunit == true) {\r\n            strvalue += \" \" + this.ValueUnit;\r\n        }\r\n\r\n        return strvalue;\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nmodule.exports = Sensordevice;\r\n\r\n"]},"metadata":{},"sourceType":"module"}
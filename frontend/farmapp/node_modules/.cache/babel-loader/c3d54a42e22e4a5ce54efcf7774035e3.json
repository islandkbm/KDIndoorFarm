{"ast":null,"code":"import _createForOfIteratorHelper from\"H:/KBM_WORK/indoorfarm_work/sfu3300/KDIndoorFarm/frontend/farmapp/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"H:/KBM_WORK/indoorfarm_work/sfu3300/KDIndoorFarm/frontend/farmapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Outputdevice from\"../commonjs/outputdevice\";import IndoorFarmAPI from\"../indoorfarmapi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Settingpage=function Settingpage(){var rlist12=[];var rlist24=[];var devcopycfg;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),relaylist12=_useState2[0],relayseleted12=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),relaylist24=_useState4[0],relayseleted24=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),mSelecteditem=_useState6[0],relayeditselected=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),moutdevarray=_useState8[0],setUpdatedevice=_useState8[1];for(var i=0;i<12;i++){rlist12.push(i);}for(var _i=12;_i<24;_i++){rlist24.push(_i);}function setupSave(mcfg){console.log(\"setupSave uidd: \"+mcfg.UniqID+\" name : \"+mcfg.Name);IndoorFarmAPI.setDeviceconfigsetup(mcfg).then(function(ret){if(ret==true){alert(\"저장되었습니다.\");relayeditselected(null);}else{}console.log(\"setDeviceconfigsetup  uid: \"+ret);});}function setupDelete(mcfg){mcfg.DevType=Outputdevice.OutDeviceTypeEnum.ODT_DELETE;console.log(\"setupSave uidd: \"+mcfg.UniqID+\" name : \"+mcfg.Name);IndoorFarmAPI.setDeviceconfigsetup(mcfg).then(function(ret){console.log(\"setDeviceconfigsetup  uid: \"+ret);});}function inputonchangeHandler(e){console.log(\"inputonchangeHandler : \"+e.target.name);switch(e.target.name){case\"devname\":devcopycfg.Name=e.target.value;break;case\"relayradio\":if(e.target.checked===true){relayeditselected(e.target.id);}break;case\"deviceradio\":devcopycfg.DevType=e.target.value;if(e.target.checked===true){devcopycfg.DevType=Number(e.target.id);console.log(\"devcopycfg.DevType : \"+devcopycfg.DevType);}break;}}function Relayeditbox(myeditrelaynum,devicelist){//const [misTimershow, selectcontrol] = useState(myeditcfg !=null && myeditcfg.istimer);\n//console.log(\"Autocontroleditbox  misTimershow: \" + misTimershow);\nif(myeditrelaynum===null){return/*#__PURE__*/_jsx(\"div\",{});}else{var devobj=null;var _iterator=_createForOfIteratorHelper(devicelist),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var dev=_step.value;if(myeditrelaynum==dev.UniqID){devobj=dev;break;}}//설정된 object가 없으면 새로생성\n}catch(err){_iterator.e(err);}finally{_iterator.f();}if(devobj===null){devobj=Outputdevice.CreateDefulatDevice(myeditrelaynum);}devcopycfg=Outputdevice.Clonbyjsonobj(devobj);var devicon=\"./image/devicon_\"+devcopycfg.DevType+\".png\";var onofficon=\"./image/\"+\"on.png\";var devicetypelist=[];for(var item in Outputdevice.OutDeviceTypeEnum){if(Outputdevice.OutDeviceTypeEnum[item]!=Outputdevice.OutDeviceTypeEnum.ODT_DELETE){// console.log(Outputdevice.OutDeviceTypeEnum[item]);\ndevicetypelist.push(Outputdevice.OutDeviceTypeEnum[item]);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"relaygroupbox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"out_con\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"out_name\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:devicon,className:\"icon\"}),\" \",devcopycfg.Name,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"out_value\",children:[\" \",\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"outportsetupbox\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uCD9C\\uB825\\uC7A5\\uCE58\\uB97C \\uC124\\uC815\\uD569\\uB2C8\\uB2E4.\",/*#__PURE__*/_jsxs(\"button\",{className:\"cont_save2\",id:\"save\",onClick:function onClick(){return setupSave(devcopycfg);},children:[\"\\uC124\\uC815\\uC800\\uC7A5\",\" \"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"cont_save2\",id:\"delete\",onClick:function onClick(){return setupDelete(devcopycfg);},children:[\"\\uC124\\uC815\\uC0AD\\uC81C\",\" \"]}),/*#__PURE__*/_jsx(\"h5\",{children:\"\\uC124\\uC815\\uBCC0\\uACBD\\uC2DC \\uBAA8\\uB4E0\\uC790\\uB3D9\\uC81C\\uC5B4\\uAC00 \\uB2E4\\uC2DC \\uC2DC\\uC791\\uB429\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"\\uC774\\uB984: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:devcopycfg.Name,name:\"devname\",onChange:inputonchangeHandler},devcopycfg.UniqID),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC7A5\\uCE58\\uC885\\uB958 :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relaygroupbox\",onChange:inputonchangeHandler,children:devicetypelist.map(function(localState,index){return deviceradiobox(localState,devcopycfg.DevType);})})]})]});}}function deviceradiobox(devtypeid,selecttype){var devicon=\"./image/devicon_\"+devtypeid+\".png\";return/*#__PURE__*/_jsxs(\"div\",{className:\"relaybox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"deviceradio\",defaultChecked:selecttype==devtypeid?true:false,id:devtypeid},devcopycfg.UniqID+devtypeid),/*#__PURE__*/_jsx(\"img\",{src:devicon,className:\"icon\"})]});}function relayradiobox(relaynum,devicelist){var devname=\"사용안함\";var _iterator2=_createForOfIteratorHelper(devicelist),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var dev=_step2.value;//=== 쓰지말자\nif(relaynum==dev.UniqID){devname=dev.Name;break;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var relayname;if(relaynum<10){relayname=\"R-0\"+(relaynum+1);}else{relayname=\"R-\"+(relaynum+1);}return/*#__PURE__*/_jsxs(\"div\",{className:\"relaybox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"relayradio\",defaultChecked:false,id:relaynum},relayname),\" \",relayname,/*#__PURE__*/_jsx(\"img\",{src:\"./image/relay.png\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:devname})})]});}useEffect(function(){var interval=null;IndoorFarmAPI.getoutputstatus().then(function(devices){setUpdatedevice(devices);relayseleted12(rlist12);relayseleted24(rlist24);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"dev_name\",children:\"\\uB9B4\\uB808\\uC774\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relay_select\",onChange:inputonchangeHandler,children:[/*#__PURE__*/_jsx(\"div\",{className:\"relaygroupbox\",children:relaylist12.map(function(localState,index){return relayradiobox(localState,moutdevarray);})}),/*#__PURE__*/_jsx(\"div\",{className:\"relaygroupbox\",children:relaylist24.map(function(localState,index){return relayradiobox(localState,moutdevarray);})})]}),Relayeditbox(mSelecteditem,moutdevarray)]});};export default Settingpage;","map":{"version":3,"sources":["H:/KBM_WORK/indoorfarm_work/sfu3300/KDIndoorFarm/frontend/farmapp/src/pages/settingpage.js"],"names":["React","useState","useEffect","Outputdevice","IndoorFarmAPI","Settingpage","rlist12","rlist24","devcopycfg","relaylist12","relayseleted12","relaylist24","relayseleted24","mSelecteditem","relayeditselected","moutdevarray","setUpdatedevice","i","push","setupSave","mcfg","console","log","UniqID","Name","setDeviceconfigsetup","then","ret","alert","setupDelete","DevType","OutDeviceTypeEnum","ODT_DELETE","inputonchangeHandler","e","target","name","value","checked","id","Number","Relayeditbox","myeditrelaynum","devicelist","devobj","dev","CreateDefulatDevice","Clonbyjsonobj","devicon","onofficon","devicetypelist","item","map","localState","index","deviceradiobox","devtypeid","selecttype","relayradiobox","relaynum","devname","relayname","interval","getoutputstatus","devices"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Outputdevice from \"../commonjs/outputdevice\";\r\nimport IndoorFarmAPI from \"../indoorfarmapi\";\r\n\r\nconst Settingpage = () => {\r\n  let rlist12 = [];\r\n  let rlist24 = [];\r\n  let devcopycfg;\r\n  const [relaylist12, relayseleted12] = useState([]);\r\n  const [relaylist24, relayseleted24] = useState([]);\r\n  const [mSelecteditem, relayeditselected] = useState(null);\r\n  const [moutdevarray, setUpdatedevice] = useState([]);\r\n\r\n  for (let i = 0; i < 12; i++) {\r\n    rlist12.push(i);\r\n  }\r\n  for (let i = 12; i < 24; i++) {\r\n    rlist24.push(i);\r\n  }\r\n\r\n  function setupSave(mcfg) {\r\n    console.log(\"setupSave uidd: \" + mcfg.UniqID + \" name : \" + mcfg.Name);\r\n    \r\n    IndoorFarmAPI.setDeviceconfigsetup(mcfg).then((ret) => {\r\n      if(ret ==true)\r\n      {\r\n        alert(\"저장되었습니다.\");\r\n        relayeditselected(null);\r\n      }\r\n      else{\r\n        \r\n      }\r\n\r\n\r\n      console.log(\"setDeviceconfigsetup  uid: \" + ret);\r\n    });\r\n  }\r\n  function setupDelete(mcfg) {\r\n    mcfg.DevType = Outputdevice.OutDeviceTypeEnum.ODT_DELETE;\r\n    console.log(\"setupSave uidd: \" + mcfg.UniqID + \" name : \" + mcfg.Name);\r\n    IndoorFarmAPI.setDeviceconfigsetup(mcfg).then((ret) => {\r\n      console.log(\"setDeviceconfigsetup  uid: \" + ret);\r\n    });\r\n  }\r\n\r\n  function inputonchangeHandler(e) {\r\n    console.log(\"inputonchangeHandler : \" + e.target.name);\r\n\r\n    switch (e.target.name) {\r\n      case \"devname\":\r\n        devcopycfg.Name = e.target.value;\r\n        break;\r\n\r\n      case \"relayradio\":\r\n        if (e.target.checked === true) {\r\n          relayeditselected(e.target.id);\r\n        }\r\n\r\n        break;\r\n\r\n      case \"deviceradio\":\r\n        devcopycfg.DevType = e.target.value;\r\n        if (e.target.checked === true) {\r\n          devcopycfg.DevType = Number(e.target.id);\r\n\r\n          console.log(\"devcopycfg.DevType : \" + devcopycfg.DevType);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  function Relayeditbox(myeditrelaynum, devicelist) {\r\n    //const [misTimershow, selectcontrol] = useState(myeditcfg !=null && myeditcfg.istimer);\r\n    //console.log(\"Autocontroleditbox  misTimershow: \" + misTimershow);\r\n\r\n    if (myeditrelaynum === null) {\r\n      return <div></div>;\r\n    } else {\r\n      let devobj = null;\r\n\r\n      for (const dev of devicelist) {\r\n        if (myeditrelaynum == dev.UniqID) {\r\n          devobj = dev;\r\n\r\n          break;\r\n        }\r\n      }\r\n\r\n      //설정된 object가 없으면 새로생성\r\n      if (devobj === null) {\r\n        devobj = Outputdevice.CreateDefulatDevice(myeditrelaynum);\r\n      }\r\n\r\n      devcopycfg = Outputdevice.Clonbyjsonobj(devobj);\r\n\r\n      let devicon = \"./image/devicon_\" + devcopycfg.DevType + \".png\";\r\n      let onofficon = \"./image/\" + \"on.png\";\r\n\r\n      let devicetypelist = [];\r\n\r\n      for (let item in Outputdevice.OutDeviceTypeEnum) {\r\n        if (Outputdevice.OutDeviceTypeEnum[item] != Outputdevice.OutDeviceTypeEnum.ODT_DELETE) {\r\n          // console.log(Outputdevice.OutDeviceTypeEnum[item]);\r\n          devicetypelist.push(Outputdevice.OutDeviceTypeEnum[item]);\r\n        }\r\n      }\r\n\r\n      return (\r\n        <div className=\"relaygroupbox\">\r\n          <div className=\"out_con\">\r\n            <div className=\"out_name\">\r\n              {\" \"}\r\n              <img src={devicon} className=\"icon\" /> {devcopycfg.Name}{\" \"}\r\n            </div>\r\n            <div className=\"out_value\"> {} </div>\r\n          </div>\r\n          <div className=\"outportsetupbox\">\r\n            <h4>\r\n              출력장치를 설정합니다.\r\n              <button className=\"cont_save2\" id=\"save\" onClick={() => setupSave(devcopycfg)}>\r\n                설정저장{\" \"}\r\n              </button>\r\n              <button className=\"cont_save2\" id=\"delete\" onClick={() => setupDelete(devcopycfg)}>\r\n                설정삭제{\" \"}\r\n              </button>\r\n              <h5>설정변경시 모든자동제어가 다시 시작됩니다.</h5>\r\n            </h4>\r\n\r\n            <label>이름: </label>\r\n            <input type=\"text\" key={devcopycfg.UniqID} defaultValue={devcopycfg.Name} name=\"devname\" onChange={inputonchangeHandler} />\r\n            <h4>장치종류 :</h4>\r\n\r\n            <div className=\"relaygroupbox\" onChange={inputonchangeHandler}>\r\n              {devicetypelist.map((localState, index) => deviceradiobox(localState, devcopycfg.DevType))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  function deviceradiobox(devtypeid, selecttype) {\r\n    let devicon = \"./image/devicon_\" + devtypeid + \".png\";\r\n\r\n    return (\r\n      <div className=\"relaybox\">\r\n        <input type=\"radio\" key={devcopycfg.UniqID + devtypeid} name=\"deviceradio\" defaultChecked={selecttype == devtypeid ? true : false} id={devtypeid} />\r\n        <img src={devicon} className=\"icon\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function relayradiobox(relaynum, devicelist) {\r\n    let devname = \"사용안함\";\r\n    for (const dev of devicelist) {\r\n      //=== 쓰지말자\r\n      if (relaynum == dev.UniqID) {\r\n        devname = dev.Name;\r\n        break;\r\n      }\r\n    }\r\n\r\n    let relayname;\r\n    if (relaynum < 10) {\r\n      relayname = \"R-0\" + (relaynum + 1);\r\n    } else {\r\n      relayname = \"R-\" + (relaynum + 1);\r\n    }\r\n\r\n    return (\r\n      <div className=\"relaybox\">\r\n        <input type=\"radio\" key={relayname} name=\"relayradio\" defaultChecked={false} id={relaynum} /> {relayname}\r\n        <img src=\"./image/relay.png\" />\r\n        <div>\r\n          <label>{devname}</label>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n\r\n    IndoorFarmAPI.getoutputstatus().then((devices) => {\r\n      setUpdatedevice(devices);\r\n      relayseleted12(rlist12);\r\n      relayseleted24(rlist24);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"dev_name\">릴레이를 선택하세요.</div>\r\n      <div className=\"relay_select\" onChange={inputonchangeHandler}>\r\n        <div className=\"relaygroupbox\">{relaylist12.map((localState, index) => relayradiobox(localState, moutdevarray))}</div>\r\n        <div className=\"relaygroupbox\">{relaylist24.map((localState, index) => relayradiobox(localState, moutdevarray))}</div>\r\n      </div>\r\n      {Relayeditbox(mSelecteditem, moutdevarray)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settingpage;\r\n"]},"metadata":{},"sourceType":"module"}